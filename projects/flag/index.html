<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- THIS PAGE IS BUILT WITH SKELETON: http://getskeleton.com/
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->

    <!-- Basic Page Needs
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">
    <title>Cloth Dynamics</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Mobile Specific Metas
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- FONT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link href="https://fonts.googleapis.com/css?family=Palanquin:400,300,600" rel="stylesheet">

    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="../../css/normalize.css">
    <link rel="stylesheet" href="../../css/skeleton.css">
    <link rel="stylesheet" href="../../css/custom.css">

    <!-- Favicon
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="../../images/favicon_2.png">
  </head>
  <body>

    <!-- Primary Page Layout
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="container">
      <section class="post_header">
      <div class="row">
        <div class="twelve columns">
          <h4 class="title">Cloth Dynamics</h4>
        </div>
      </div>
        <div class="canvas_container u-max-full-width" id="cc_1">
          <canvas class="canvas" width=1440 height=900 id="canvas_1"></canvas>
          <div class='gui_c' id="gui_container"></div>
        </div>
      <ul class="navbar-list c_navbar">
        <li class="navbar-item"><a class="navbar-link" href="flag.js">Source</a></li>
        <li class="navbar-item"><a class="navbar-link" href="../../index.html">Home</a></li>
      </ul>
      </section>

      <section class="post">
      <h5>Instructions</h5>
      <p>Drag nodes to affect fabric.</p>
      <h5>Overview</h5>
      <p>This simulation is based on a <a href='https://gamedevelopment.tutsplus.com/tutorials/simulate-tearable-cloth-and-ragdolls-with-simple-verlet-integration--gamedev-519'>tutorial by Jared Counts</a>. We maintain a grid of nodes connected to their neighbours. As the nodes move, they are kept within a maximum distance from 4 adjacent nodes by running several iterations of a constraints solver. Each timestep, every node is pulled towards the bottom of the canvas to simulate gravity and towards the positive x-direction to simulate wind. By keeping the left column of nodes static, we can create a cloth simulation that looks like a flag flapping in the wind.</p>
      <h5>Wind</h5>
      <p>A 2D structure of values is mapped to the nodes of the flag and every timestep we shift the wind values along them. There are two wind modes: <strong>uniform</strong> and <strong>noise</strong>. Uniform wind applies a repeating bell curve to the flag. The <strong>speed</strong> variable determines how quickly a wave passes through the entire fabric and <strong>strength</strong> determines the amplitude. The noise wind uses 2D <a href='https://en.wikipedia.org/wiki/Simplex_noise'>simplex noise</a> from the <a href ='https://github.com/josephg/noisejs'> perlin.js </a> library. Using only the absolute values of the noise, we can create abrupt gusts in the field. The strength variable sets the magnitude of the wind whereas speed does not apply to noise wind.</p>
      </section>


    </div>
    <!-- End Document
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/896175/perlin.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js"></script>
    <script type="text/javascript" src="flag.js"></script>
  </body>
  <footer>
  <div class="container">
    <section class="footer" id="links">
    <div class="navbar-spacer"></div>
    <nav class="navbar footer-navbar">
    <div class="container">
      <ul class="navbar-list">
        <li class="navbar-item"><a class="navbar-link" href="../../index.html">Home</a></li>
      </ul>
    </div>
    </nav>
  </div>
  </section>
  </footer>
</html>
